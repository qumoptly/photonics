<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self'; script-src 'self' 'nonce-asnt6q2XYGXd+Ea+L3e/sA=='; style-src 'self' 'unsafe-inline'; form-action 'self'; base-uri 'self'; frame-src 'self';">
<title>Software from RP Photonics - New Editor Features: Syntax Highlighting, Parameter Help, Syntax Checking, Automatic Code Reformatting</title>
<link rel="stylesheet" type="text/css" href="./styles.css">
<link rel="shortcut icon" href="./img/favicon.png" type="image/png">
<link rel="canonical" href="https://www.rp-photonics.com/software_news_2017_07_13.html">
<link rel="alternate" type="application/rss+xml" title="The Photonics Spotlight" href="https://www.rp-photonics.com/spotlight.rss">
<link rel="alternate" type="application/rss+xml" title="The RP Photonics Software News" href="https://www.rp-photonics.com/software_news.rss">
<link rel="alternate" type="application/rss+xml" title="New encyclopedia articles" href="https://www.rp-photonics.com/new_articles.rss">
<meta name="date" content="2017-07-13">
<meta name="description" content="The main software products of RP Photonics have been equipped with further substantial new features, including syntax highlighting, parameter help on built-in functions, syntax checking and automatic code reformatting.">
<meta name="copyright" content="2020 RP Photonics Consulting GmbH">
<meta name="author" content="Dr. R&uuml;diger Paschotta">
<meta name="publisher" content="RP Photonics Consulting GmbH">
<meta name="keywords" content="photonics, modeling, software, optics, lasers, simulations, analysis, optimization, news, newsletter">
<meta property="og:type" content="article">
<meta property="og:title" content="Software from RP Photonics - New Editor Features: Syntax Highlighting, Parameter Help, Syntax Checking, Automatic Code Reformatting">
<meta property="og:description" content="The main software products of RP Photonics have been equipped with further substantial new features, including syntax highlighting, parameter help on built-in functions, syntax checking and automatic code reformatting.">
<meta property="og:url" content="https://www.rp-photonics.com/software_news_2017_07_13.html">
<meta property="og:image" content="https://www.rp-photonics.com/previews/software_news_2017_07_13.png">
<meta property="og:image:type" content="image/png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="The main software products of RP Photonics have been equipped with further substantial new features, including syntax highlighting, parameter help on built-in functions, syntax checking and automatic code reformatting.">
<meta name="twitter:title" content="Software from RP Photonics - New Editor Features: Syntax Highlighting, Parameter Help, Syntax Checking, Automatic Code Reformatting">
<meta name="twitter:image" content="https://www.rp-photonics.com/previews/software_news_2017_07_13.png">
<script type="text/javascript" src="./jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="./general.js"></script>
<script type="text/javascript" nonce="asnt6q2XYGXd+Ea+L3e/sA==">
page="software_news_2017_07_13.html"; cat="S"; shownbanner=""; ref="http://www.rp-photonics.com/software_news.html"; shownsponsors = "";
ts = new Date().toJSON().substring(0, 19);
$(document).ready(function($){ $.get("./log.php",{cat:cat,page:page,ref:ref,shownbanner:shownbanner,shownsponsors:shownsponsors,ts:ts}); })
</script>
</head>
<body>
<div id="logohead">
<div class="areadiv"><table id="areatable"><tr><td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="./marketing.html">RP Photonics Marketing</a></td></tr>
<tr><td><a href="./encyclopedia.html">Encyclopedia</a></td>
<td><a href="./buyersguide.html">Buyer's Guide</a></td></tr>
</table></div>
</td>
<td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="./consulting.html">RP Services and Tools</a></td></tr>
<tr><td><a href="./consulting.html">Consulting</a></td>
<td class="selected"><a href="./software.html">Software</a></td></tr>
</table></div>
</td></tr></table></div>
<img src="img/rp_photonics.png" alt="RP Photonics logo" id="rplogo">
<p><span id="title2">Software</span> <span id="slogan">&hellip; powerful tools for your research &amp; development!</span></p>
</div>
<nav id="soft">
<div id="navitems">
<a id="Software_start" href="software.html">Introduction</a>
<a id="Modeling" href="software_modeling.html">Modeling</a>
<a id="software_news" href="software_news.html" class="sel">Software News</a>
<p>Products:</p>
<a id="Overview" href="software_overview.html">Overview</a>
<a id="rp_fiber_calculator" href="rp_fiber_calculator.html">RP Fiber Calculator</a>
<a id="rp_fiberpower" href="fiberpower.html">RP Fiber Power</a>
<a id="rp_resonator" href="resonator.html">RP Resonator</a>
<a id="rp_propulse" href="propulse.html">RP ProPulse</a>
<a id="rp_coating" href="coating.html">RP Coating</a>
<a id="rp_q_switch" href="rp_q_switch.html">RP Q-switch</a>
<p>Various aspects:</p>
<a id="script_language" href="software_script_language.html">Script language</a>
<a id="debugger" href="software_debugger.html">Debugger</a>
<a id="custom_forms" href="software_custom_forms.html">Custom forms</a>
<a id="licenses" href="software_licenses.html">Licenses</a>
<a id="documentation" href="software_docu.html">Documentation</a>
<a id="support" href="software_support.html">Support</a>
<a id="distributors" href="software_distributors.html">Distributors</a>
<p>Take action:</p>
<a id="contact" href="software_contact.html">*Get a quotation*</a>
</div>
</nav>
<div id="main" style="margin-top:20px;">
<main>
<p class="breadcrumbs"><a href="software.html">RP Photonics Software News</a> &gt; <a href="software_news_2017_07_13.html">2017-07-13</a></p>
<h1 class="posting">New Editor Features: Syntax Highlighting, Parameter Help, Syntax Checking, Automatic Code Reformatting</h1>
<div class="posting_details">
<p>Posted on 2017-07-13 in the <a href="software_news.html">RP Photonics Software News (available as e-mail newsletter!)</a>
<p>Permanent link: <a href="software_news_2017_07_13.html" class="url">https://www.rp-photonics.com/software_news_2017_07_13.html</a></p>
<p>Author: <a href="https://www.rp-photonics.com/paschotta.html" rel="author">Dr. Rüdiger Paschotta</a>, <a href="https://www.rp-photonics.com/">RP Photonics Consulting GmbH</a></p>
<p>Abstract: The main software products of RP Photonics have been equipped with further substantial new features, including syntax highlighting, parameter help on built-in functions, syntax checking and automatic code reformatting.</p>
</div>
<figure class="right" style="width:130px;">
<img src="img/paschotta5.jpg" alt="Dr. Rüdiger Paschotta">
</figure>
<p>Recently, new versions of our software products (<a href="fiberpower.html"><b>RP Fiber Power</b></a> V7, <a href="resonator.html"><b>RP Resonator</b></a> V4, <a href="coating.html"><b>RP Coating</b></a> V4 and <a href="propulse.html"><b>RP ProPulse</b></a> V4) came out, and in a <a href="software_news_2017_05_31.html">recent post</a> I explained the essential new features, notably the new <a href="software_debugger.html">debugger</a>, improved code formatting rules, a character map tool and some new control structures.
Shortly after that, I decided to add further very substantial additional improvements, which resulted in heavy programming work for quite a number of weeks.
Now I am happy to describe the results.</p>
<p>Before I begin with that, I would like to emphasize that our software <b>does not have to be controlled with script code</b> &ndash; it can also be used with simple forms, even tailored forms for certain application (called <a href="software_custom_forms.html">custom forms</a>); it is only that the full flexibility for most sophisticated simulation is obtained only with scripting.</p>
<p>Most of the new features have become possible due to the use of a much improved third-party editor component, replacing the previously used rather basic editor, which was provided by Windows and equipped with some additional functionality (which however is possible only to a limited extent).</p>
<h2 class="togglediv">Syntax Highlighting</h2>
<div>
<p>The script editors now support syntax highlighting.
Essentially, this means that recognized names of commands, functions and keywords are highlighted with different colors.
Also, the software displays some things such as comments and string constants differently.
That way, one can more easily recognize the structure of script code.
The following screenshot from one of the demo scripts of RP Fiber Power serves as an example:</p>
<figure>
<img src="img/syntax_highlighting.png" alt="syntax highlighting in script editors">
</figure>
<p>This is surely very useful, but it also looks nice, doesn't it?</p>
</div>
<h2 class="togglediv">Parameter Help</h2>
<div>
<p>The script language of our software supports many functions, and it can sometimes be difficult to remember the exact list of parameters needed for each function.
I have been able to implement a very nice solution for that.
If you use such a function, just type its name followed by the opening parenthesis into the editor, and you will get the parameter help displayed; you can also later on click on a function parameter to get this:</p>
<figure>
<img src="img/parameter_help.png" alt="parameter help in a script editor">
</figure>
<p>If you have once used such a function, the displayed parameter names will easily remind you of what needs to be entered there.
In many cases, you won't need to use the interactive help system any more.
That's certainly nice, although the interactive help system, showing you many more details, is also rather nice to use: just place the cursor on a function name, for example, and press F2 to search for the function name.
Then confirm your choice by double-clicking on the function name in order to get the full explanations displayed.</p>
</div>
<h2 class="togglediv">Syntax Checking</h2>
<div>
<p>Although simulation scripts usually run rather fast, there are some cases where computation times are substantial &ndash; for example, when doing numerical beam propagation on a large numerical grid.
In such a case it can be quite awkward if the program executes such a script and then runs into a syntax error caused by a trivial typo, for example.
You may then have to execute the whole script once more after correcting the error.
Therefore, it can be desirable to check the correctness of the syntax before actually executing a script.</p>
<p>Exactly that has now been provided: with Edit | Check syntax or with Ctrl-H you will get the syntax quickly checked.
In case that a problem is found, the cursor is moved to the corresponding position, and an error message is displayed.
In the following example case, a closing parenthesis was missing:</p>
<figure>
<img src="img/syntax_check.png" alt="syntax checking">
</figure>
</div>
<h2 class="togglediv">Automatic Code Reformatting</h2>
<div>
<p>As explained in my <a href="software_news_2017_05_31.html">recent post</a>, I have introduced improved code formatting rules, which make the code substantially more readable.
Although that is nice, a rather awkward problem is encountered if you (like myself, for example!) already have many scripts, which you would then like to have reformatted.
Well, the software still accepts the old formatting, but it is not nice to have all scripts which do not fit to the improved formatting rules.</p>
<p>I myself originally started to manually reformat manuscripts, and I can tell you, that can drive you nuts!
That triggered the idea that automatic reformatting would be very nice to have.
The caveat is just that it is also rather difficult to implement it.
Nevertheless, I finally did this &ndash; spending many days with really hard brain work.
Now, I'm very delighted to have got it working very nicely.</p>
<p>As an example, I had a script containing the following part:</p>
<pre class="codedisplay">
R_min:=150 mm { minimum curvature radius }
L_bend:=R_min*(90 deg)
show "L_bend: ", L_bend:d3:"m"
z1_bend:=(L_f-L_bend)/2
z2_bend:=(L_f+L_bend)/2
R(z):=
  if z &lt; z1_bend then
    0
  else if z &lt; z2_bend then
    R_min
  else
    0
theta(z):=
  if z &lt; z1_bend then
    0
  else if z &lt; z2_bend then
    -(z - z1_bend)/R_min
  else
   -pi/2
</pre>
<p>I just pressed Ctrl-R in the editor, and thereafter it read as follows:</p>
<pre class="codedisplay">
R_min := 150 mm { minimum curvature radius }
L_bend := R_min * (90 deg)
show "L_bend: ", L_bend:d3:"m"
z1_bend := (L_f - L_bend) / 2
z2_bend := (L_f + L_bend) / 2
R(z) :=
  if z &lt; z1_bend then
    0
  else if z &lt; z2_bend then
    R_min
  else
    0
theta(z) :=
  if z &lt; z1_bend then
    0
  else if z &lt; z2_bend then
    -(z - z1_bend) / R_min
  else
    -pi / 2
</pre>
<p>If you wonder how such a feature can be implemented, I give you a few hints.
When starting up, the software reads a formal definition of the whole script language in the form of a text.
The resulting data in memory can later be used by a script parser.
Its original function was syntax checking (see above), but the mentioned formal definition has been amended such that it also describes the preferred kind of formatting &ndash; for example, at which positions in the code we like to have a single blank, where do we need to have a line break, or at which locations we will keep a line break only if there was already one in the original code, etc.
The mentioned parser can then output the correctly formatted code when reading the original code.
It is a highly recursive operation, particularly in the context of mathematical expressions.
As you can probably imagine, it takes a lot of thought even just to design the above-mentioned formal description of the script language (particularly if it is so powerful and versatile as ours), let alone to implement the parser which can then operate on script code accordingly.</p>
</div>
<h2 class="togglediv">Upgrades for Existing Users</h2>
<div>
<p>Surely, the new features will be attractive for people considering to start with our software.
Existing users will soon get upgrade offers &ndash; as always, being very fair; the upgrade prices are only a little higher than the difference of the license prices.</p>
</div>
<hr>
<p style="font-size:85%; margin-bottom:10px;">This article is a posting of the <a href="software_news.html">RP Photonics Software News</a>, authored by <a href="paschotta.html">Dr. Rüdiger Paschotta</a>.
You may link to this page, because its location is permanent.</p>
<p style="font-size:85%; margin-bottom:15px;">Note that you can also receive the articles in the form of a <a href="newsletters.html">newsletter</a> or with an <a href="https://www.rp-photonics.com/software_news.rss">RSS feed</a>.</p>

<table style="border-spacing:0"><tr>
<td style="width:60%; vertical-align:middle;">
<img src="previews/software_news_2017_07_13.png" alt="preview" class="article_preview"></td>
<td style="vertical-align:middle;">
<div id="socialbox_article">
<p style="font-size:90%">If you like this article, share it with your friends and colleagues, e.g. via social media:</p>
<a href="https://twitter.com/intent/tweet?lang=en&url=https%3A%2F%2Fwww.rp-photonics.com%2Fsoftware_news_2017_07_13.html&text=Software+from+RP+Photonics+-+New+Editor+Features%3A+Syntax+Highlighting%2C+Parameter+Help%2C+Syntax+Checking%2C+Automatic+Code+Reformatting" class="socialbutton twitter"><img src="./img/twitter.png" alt="Twitter"></a>
<a href="https://www.facebook.com/sharer/sharer.php?display=popup&u=https%3A%2F%2Fwww.rp-photonics.com%2Fsoftware_news_2017_07_13.html" class="socialbutton facebook"><img src="./img/facebook.png" alt="Facebook"></a>
<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.rp-photonics.com%2Fsoftware_news_2017_07_13.html" class="socialbutton linkedin"><img src="./img/linkedin.png" alt="LinkedIn"></a>
<p style="font-size:85%">These sharing buttons are implemented in a <a href="./social_media.html">privacy-friendly</a> way!</p></div>
</td>
</tr></table>

<footer id="copyrightbox">
<span class="copyright">&copy; <a href="paschotta.html">Dr. Rüdiger Paschotta</a>, RP Photonics Consulting GmbH, also at <a href="https://profiles.google.com/109063044353551581702?rel=author">Google+</a>&nbsp;&nbsp;&nbsp;&nbsp; All rights reserved worldwide</span>
</footer>
</main></div>
<!--googleon: index-->
<script type="application/ld+json" nonce="asnt6q2XYGXd+Ea+L3e/sA==">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "publisher": {
    "@type": "Organization",
    "name": "RP Photonics",
    "url": "https://www.rp-photonics.com/",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.rp-photonics.com/img/rp_photonics.png"
      }
  },
  "mainEntity": {
    "@type": "Article",
    "mainEntityOfPage": {
       "@type": "WebPage",
       "@id": "https://www.rp-photonics.com/software_news_2017_07_13.html"
    },
    "headline": "New Editor Features: Syntax Highlighting, Parameter Help, Syntax Checking, Automatic Code Reformatting",
    "image": "https://www.rp-photonics.com/previews/software_news_2017_07_13.png",
    "datePublished": "2017-07-13",
    "description": "The main software products of RP Photonics have been equipped with further substantial new features, including syntax highlighting, parameter help on built-in functions, syntax checking and automatic code reformatting.",
    "author": {
      "@type": "Person",
      "name": "Dr. Rüdiger Paschotta",
      "url": "https://www.rp-photonics.com/paschotta.html",
      "image": "https://www.rp-photonics.com/img/paschotta5.jpg"
    },
    "publisher": {
      "@type": "Organization",
      "name": "RP Photonics",
      "url": "https://www.rp-photonics.com/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.rp-photonics.com/img/rp_photonics.png"
      }
    }
  },
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "RP Photonics Software News",
      "item": "https://www.rp-photonics.com/software.html"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "2017-07-13",
      "item": "https://www.rp-photonics.com/software_news_2017_07_13.html"
    }]}
}
</script>
</body>
</html>
